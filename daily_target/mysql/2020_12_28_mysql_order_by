Mysql中的order by的原理
1. 如果order by(索引) mysql可以根据索引的有序性而直接取得已排好序的数据。这种方式的order by可以说是最优的排序方式了!
2. 利用内存/磁盘文件排序获取结果
  这种情况下就没有有效的索引取得排好序的数据,mysql 需要通过相应的排序算法,将取得的数据在sort_buff_size系统变量所设置大小的排序区进行排序,这个排序区是每个thread独享的,所以说在某一个时刻
  可能存在多个sort buffer 内存区域
  
  mysql中filesort的实现算法有两种
  1) 双路排序 是首先根据相应的条件取出相应的排序字段和可以直接定位行数据的行指针信息，然后在sort buffer中进行排序
    先取出条件行和order by要用来排序的字段，然后在内存中进行排序，最后再次i/o按照排好序的顺序进行读取数据(内存少i/o次数多)
  2）单路排序 是一次性取出满足条件的所有字段,然后在sort buffer中进行排序
    先筛选出满足条件的行，然后按照order by在内存中对他们进行排序，最后扫描在内存中已经排序好的数据进行输出(这是一种典型的空间换时间思路 内存多i/o次数少)
    
    单路排序有可能失败: 当sort_buff_size的值小于了数据的值那么就会先读取限定那么多的值 然后先部分排序(创建tmp文件,多路合并) 排完再从数据库读取数据,这样重复下来就有可能导致
    比双路排序还慢!所以能不能成为单路排序就看数据大小和sort_buff_size的值
  
